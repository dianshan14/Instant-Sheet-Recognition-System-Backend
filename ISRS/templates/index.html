{% macro render_comment(comment) %}
    <li>{{ comment }}</li>
{% endmacro %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

{% if g.user %}
    <li><span>{{ g.user.username }}</span>
    <li><a href="{{ url_for('auth.logout') }}">Log Out</a>
{% else %}
    <li><a href="{{ url_for('auth.register') }}">Register</a>
    <li><a href="{{ url_for('auth.login') }}">Log In</a>
{% endif %}

{% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <div id="flash">{{ message }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}


<ul>
    {% for comment in comments %}
        {{ render_comment(comment) }}
	{% endfor %}
</ul>

<button type="button" onclick="send_request()">123</button>

<script>
    sessionStorage.sheet_id = 10

    function send_request()
    {
var sheet = {
    'sheet_title': "�~U~O�~M�",
    'sheet_footer' : "��~]��~]",
    'total_ques_num': 3,
    'total_opt_num': 6,
    'sheet_type': 2,
    'ques_set': [
        {
            'prob_num' : 1,
            'problem': '��| 好�~W~N',
            'option': [
                {
                    opt_num: 1,
                    description: '好'
                },
                {
                    opt_num: 2,
                    description: '��~M好'
                }
            ]
        },
        {
            'prob_num' : 2,
            'problem': '��| �~W~N',
            'option': [
                {
                    opt_num: 1,
                    description: 'Yes'
                },
                {
                    opt_num: 2,
                    description: 'NO'
                }
            ]
        },
        {
            'prob_num' : 3,
            'problem': '��~E��~Z�~D��~U���~B',
            'option': [
                {
                    opt_num: 1,
                    description: '��~E��~Z�~D��~U���~E��~Z�~D��~U���~B'
                },
                {
                    opt_num: 2,
                    description: '�~\~K�~\~K誰��~T��~C��~B��~T��~C��~Z�~V~G��~W�~\~K�~V~G�~A~^�~A~^�~A~^�~A~^'
                }
            ]
        }
    ]
}
        $.ajax({
            type: "POST",
            contentType: 'application/json',
            url: "/test",
            //url: "http://127.0.0.1:5000/test",
            data: JSON.stringify(sheet),
            success: showResult,
            error: onError,
            dataType: 'json'
        });
    }

    function showResult(abc){
        console.log(abc)
    }
    
    function onError(abc){
        console.log(abc)
    }
</script>
